{"ast":null,"code":"import * as constants from './constants';\nimport axios from 'axios';\n\nconst changeLogin = result => ({\n  type: constants.CHANGE_LOGIN,\n  value: true\n});\n\nexport const logout = () => ({\n  type: constants.CHANGE_LOGOUT,\n  value: false\n});\nexport const login = (account, password) => {\n  return dispatch => {\n    axios.get('/api/login.json?account=' + account + '&password=' + password).then(res => {\n      const result = res.data.data;\n\n      if (result) {\n        dispatch(changeLogin(result));\n      } else {\n        alert('login fail!');\n      }\n    }).catch(err => {});\n  };\n};","map":{"version":3,"sources":["D:/study/techStudy/reactjs/jianshu/src/writer/store/actionCreator.js"],"names":["constants","axios","changeLogin","result","type","CHANGE_LOGIN","value","logout","CHANGE_LOGOUT","login","account","password","dispatch","get","then","res","data","alert","catch","err"],"mappings":"AAAA,OAAO,KAAKA,SAAZ,MAA2B,aAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAW,GAAIC,MAAD,KAAa;AAC7BC,EAAAA,IAAI,EAAEJ,SAAS,CAACK,YADa;AAE7BC,EAAAA,KAAK,EAAE;AAFsB,CAAb,CAApB;;AAKA,OAAO,MAAMC,MAAM,GAAG,OAAO;AACzBH,EAAAA,IAAI,EAAEJ,SAAS,CAACQ,aADS;AAEzBF,EAAAA,KAAK,EAAE;AAFkB,CAAP,CAAf;AAKP,OAAO,MAAMG,KAAK,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACxC,SAAQC,QAAD,IAAc;AACjBX,IAAAA,KAAK,CAACY,GAAN,CAAU,6BAA2BH,OAA3B,GAAmC,YAAnC,GAAgDC,QAA1D,EAAoEG,IAApE,CAA0EC,GAAD,IAAS;AAC9E,YAAMZ,MAAM,GAAGY,GAAG,CAACC,IAAJ,CAASA,IAAxB;;AACA,UAAGb,MAAH,EAAU;AACNS,QAAAA,QAAQ,CAACV,WAAW,CAACC,MAAD,CAAZ,CAAR;AACH,OAFD,MAEK;AACDc,QAAAA,KAAK,CAAC,aAAD,CAAL;AACH;AACJ,KAPD,EAOGC,KAPH,CAOUC,GAAD,IAAQ,CAEhB,CATD;AAUH,GAXD;AAYH,CAbM","sourcesContent":["import * as constants from './constants';\r\nimport axios from 'axios';\r\n\r\nconst changeLogin = (result) => ({\r\n    type: constants.CHANGE_LOGIN,\r\n    value: true\r\n})\r\n\r\nexport const logout = () => ({\r\n    type: constants.CHANGE_LOGOUT,\r\n    value: false\r\n})\r\n\r\nexport const login = (account, password) => {\r\n    return (dispatch) => {\r\n        axios.get('/api/login.json?account='+account+'&password='+password).then((res) => {\r\n            const result = res.data.data;\r\n            if(result){\r\n                dispatch(changeLogin(result));\r\n            }else{\r\n                alert('login fail!');\r\n            }\r\n        }).catch((err) =>{\r\n\r\n        })\r\n    }\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}