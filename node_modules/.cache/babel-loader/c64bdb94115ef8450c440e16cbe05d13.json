{"ast":null,"code":"import * as constans from './constants';\nimport axios from 'axios';\nimport { fromJS } from 'immutable';\nexport const changeLogin = () => ({\n  type: constans.CHANGE_LOGIN,\n  value: true\n});\nexport const login = (account, password) => {\n  return dispatch => {\n    axios.get('/api/login.json?account=' + account + '&password=' + password).then(res => {\n      const result = res.data.data;\n      console.log('result->' + result);\n\n      if (result) {\n        dispatch(changeLogin);\n      } else {\n        alert('login fail!');\n      }\n    }).catch(err => {});\n  };\n};","map":{"version":3,"sources":["D:/study/techStudy/reactjs/jianshu/src/login/store/actionCreator.js"],"names":["constans","axios","fromJS","changeLogin","type","CHANGE_LOGIN","value","login","account","password","dispatch","get","then","res","result","data","console","log","alert","catch","err"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,WAArB;AAEA,OAAO,MAAMC,WAAW,GAAG,OAAO;AAC9BC,EAAAA,IAAI,EAAEJ,QAAQ,CAACK,YADe;AAE9BC,EAAAA,KAAK,EAAE;AAFuB,CAAP,CAApB;AAIP,OAAO,MAAMC,KAAK,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACxC,SAAQC,QAAD,IAAc;AACjBT,IAAAA,KAAK,CAACU,GAAN,CAAU,6BAA2BH,OAA3B,GAAmC,YAAnC,GAAgDC,QAA1D,EAAoEG,IAApE,CAA0EC,GAAD,IAAS;AAC9E,YAAMC,MAAM,GAAGD,GAAG,CAACE,IAAJ,CAASA,IAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAWH,MAAvB;;AACA,UAAGA,MAAH,EAAU;AACNJ,QAAAA,QAAQ,CAACP,WAAD,CAAR;AACH,OAFD,MAEK;AACDe,QAAAA,KAAK,CAAC,aAAD,CAAL;AACH;AACJ,KARD,EAQGC,KARH,CAQUC,GAAD,IAAQ,CAEhB,CAVD;AAWH,GAZD;AAaH,CAdM","sourcesContent":["import * as constans from './constants';\r\nimport axios from 'axios';\r\nimport {fromJS} from 'immutable';\r\n\r\nexport const changeLogin = () => ({\r\n    type: constans.CHANGE_LOGIN,\r\n    value: true\r\n})\r\nexport const login = (account, password) => {\r\n    return (dispatch) => {\r\n        axios.get('/api/login.json?account='+account+'&password='+password).then((res) => {\r\n            const result = res.data.data;\r\n            console.log('result->'+result);\r\n            if(result){\r\n                dispatch(changeLogin);\r\n            }else{\r\n                alert('login fail!');\r\n            }\r\n        }).catch((err) =>{\r\n\r\n        })\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}